(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(n,l,t){n.exports=t("zUnb")},1:function(n,l){},zUnb:function(n,l,t){"use strict";t.r(l);var e=t("8Y7J");const u=!1;class i{}class o{constructor(n){this.updates=n,this.title="colaborative-text-editor",n.available.subscribe(n=>{console.log("current version is",n.current),console.log("available version is",n.available)}),n.activated.subscribe(n=>{console.log("old version was",n.previous),console.log("new version is",n.current)})}}var r=t("pMnS"),s=t("s7LF");class c{constructor(n,l){this.socketService=n,this.router=l}identify(){if(!this.username||0===this.username.length)return alert("Insira um Nome para continuar.");this.socketService.identify(this.username),this.router.navigate(["/texteditor"])}ngOnInit(){this.socketService.username&&this.router.navigate(["/texteditor"])}}var a=t("gFX4"),b=t("HDdC");class d{constructor(){this.socket=a("https://colaborative-text-editor-serve.herokuapp.com/",{transports:["websocket"]}),this.username=null}identify(n){this.username=n,this.socket.emit("identify",n)}type(n){this.socket.emit("type",n)}update(){return new b.a(n=>{this.socket.on("update",l=>n.next(l))})}connectedUsers(){return new b.a(n=>{this.socket.on("updateUsersList",l=>n.next(l.users.sort()))})}typing(){return new b.a(n=>{this.socket.on("typing",l=>n.next(l))})}}var g=t("iInd"),p=[["div.container-principal[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;background-color:rgba(211,211,211,.2)}div.container-identify[_ngcontent-%COMP%]{width:30%;min-width:300px;height:190px;border:1px solid #000;border-radius:5px;background-color:rgba(211,211,211,.2);position:relative;top:50%;left:50%;transform:translate(-50%,-50%)}div.container-identify[_ngcontent-%COMP%] > div.title[_ngcontent-%COMP%]{border-bottom:1px solid #000;border-top-left-radius:5px;border-top-right-radius:5px;font-size:24px;text-align:center;background-color:#d3d3d3}div.container-identify[_ngcontent-%COMP%]   label.label[_ngcontent-%COMP%]{margin-left:10%}div.container-identify[_ngcontent-%COMP%]   label.label[_ngcontent-%COMP%], div.container-identify[_ngcontent-%COMP%] > div.title[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}div.container-identify[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:auto;max-width:80%!important}div.container-identify[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;margin-top:10px;margin-right:10%}"]],h=e.Ab({encapsulation:0,styles:p,data:{}});function v(n){return e.Qb(0,[(n()(),e.Cb(0,0,null,null,20,"div",[["class","container-principal"]],null,null,null,null,null)),(n()(),e.Cb(1,0,null,null,19,"div",[["class","container-identify"]],null,null,null,null,null)),(n()(),e.Cb(2,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),e.Pb(-1,null,["Identifica\xe7\xe3o"])),(n()(),e.Cb(4,0,null,null,16,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,t){var u=!0;"submit"===l&&(u=!1!==e.Mb(n,6).onSubmit(t)&&u);"reset"===l&&(u=!1!==e.Mb(n,6).onReset()&&u);return u}),null,null)),e.Bb(5,16384,null,0,s.m,[],null,null),e.Bb(6,4210688,null,0,s.i,[[8,null],[8,null]],null,null),e.Nb(2048,null,s.b,null,[s.i]),e.Bb(8,16384,null,0,s.h,[[4,s.b]],null,null),(n()(),e.Cb(9,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.Cb(10,0,null,null,8,"div",[["class","form group"]],null,null,null,null,null)),(n()(),e.Cb(11,0,null,null,1,"label",[["class","label"],["for","nome"]],null,null,null,null,null)),(n()(),e.Pb(-1,null,["Insira o seu nome abaixo:"])),(n()(),e.Cb(13,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["id","nome"],["name","nome"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,t){var u=!0,i=n.component;"input"===l&&(u=!1!==e.Mb(n,14)._handleInput(t.target.value)&&u);"blur"===l&&(u=!1!==e.Mb(n,14).onTouched()&&u);"compositionstart"===l&&(u=!1!==e.Mb(n,14)._compositionStart()&&u);"compositionend"===l&&(u=!1!==e.Mb(n,14)._compositionEnd(t.target.value)&&u);"ngModelChange"===l&&(u=!1!==(i.username=t)&&u);return u}),null,null)),e.Bb(14,16384,null,0,s.c,[e.N,e.o,[2,s.a]],null,null),e.Nb(1024,null,s.e,(function(n){return[n]}),[s.c]),e.Bb(16,671744,null,0,s.j,[[2,s.b],[8,null],[8,null],[6,s.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Nb(2048,null,s.f,null,[s.j]),e.Bb(18,16384,null,0,s.g,[[4,s.f]],null,null),(n()(),e.Cb(19,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],(function(n,l,t){var e=!0,u=n.component;"click"===l&&(e=!1!==u.identify()&&e);return e}),null,null)),(n()(),e.Pb(-1,null,["Confirmar"]))],(function(n,l){n(l,16,0,"nome",l.component.username)}),(function(n,l){n(l,4,0,e.Mb(l,8).ngClassUntouched,e.Mb(l,8).ngClassTouched,e.Mb(l,8).ngClassPristine,e.Mb(l,8).ngClassDirty,e.Mb(l,8).ngClassValid,e.Mb(l,8).ngClassInvalid,e.Mb(l,8).ngClassPending),n(l,13,0,e.Mb(l,18).ngClassUntouched,e.Mb(l,18).ngClassTouched,e.Mb(l,18).ngClassPristine,e.Mb(l,18).ngClassDirty,e.Mb(l,18).ngClassValid,e.Mb(l,18).ngClassInvalid,e.Mb(l,18).ngClassPending)}))}var f=e.yb("app-view-login",c,(function(n){return e.Qb(0,[(n()(),e.Cb(0,0,null,null,1,"app-view-login",[],null,null,null,v,h)),e.Bb(1,114688,null,0,c,[d,g.k],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),m=t("SVse");class C{constructor(n){this.socketService=n}ngOnInit(){this.socketService.connectedUsers().subscribe(n=>this.users=n),this.socketService.typing().subscribe(n=>this.typing=n),this.username=this.socketService.username}}var L=[[".title[_ngcontent-%COMP%]{width:100%;height:40px;text-align:center;border:1px solid gray;background-color:#d3d3d3;border-radius:2px;position:relative}.title[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{position:relative;font-size:24px;font-family:Roboto,sans-serif;text-align:center;top:20%}div.content[_ngcontent-%COMP%]{width:100%;height:95%;overflow:auto}div.content[_ngcontent-%COMP%] > div.user[_ngcontent-%COMP%]{padding-top:1px;width:100%;height:30px;background-color:#90ee90;text-align:center;font-size:18px;border-bottom:1px solid #000}div.content[_ngcontent-%COMP%] > div.user.active[_ngcontent-%COMP%]{background-color:red}div.content[_ngcontent-%COMP%] > div.user.typing[_ngcontent-%COMP%]{background-color:#ff0}"]],M=e.Ab({encapsulation:0,styles:L,data:{}});function k(n){return e.Qb(0,[(n()(),e.Cb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.Cb(1,0,null,null,1,"div",[["class","user"]],[[2,"active",null],[2,"typing",null]],null,null,null,null)),(n()(),e.Pb(2,null,[" "," "]))],null,(function(n,l){var t=l.component;n(l,1,0,l.context.$implicit===t.username,l.context.$implicit===t.typing),n(l,2,0,l.context.$implicit)}))}function y(n){return e.Qb(0,[(n()(),e.Cb(0,0,null,null,2,"div",[["class","title"]],null,null,null,null,null)),(n()(),e.Cb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),e.Pb(-1,null,["Participantes"])),(n()(),e.Cb(3,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(n()(),e.rb(16777216,null,null,1,null,k)),e.Bb(5,278528,null,0,m.h,[e.Z,e.W,e.z],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,5,0,l.component.users)}),null)}e.yb("app-connected-users",C,(function(n){return e.Qb(0,[(n()(),e.Cb(0,0,null,null,1,"app-connected-users",[],null,null,null,y,M)),e.Bb(1,114688,null,0,C,[d],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]);var x=t("1BOH"),P=t("PjcS"),w=t("KZYO");class O{constructor(n,l){this.socketService=n,this.router=l,this.editor=w,this.content=""}change({editor:n}){const l=n.getData();this.content!==l&&(this.content=l,this.socketService.type(this.content))}onReady(n){n.ui.getEditableElement().parentElement.insertBefore(n.ui.view.toolbar.element,n.ui.getEditableElement())}ngOnInit(){this.socketService.username||this.router.navigate(["/"]),this.socketService.update().subscribe(n=>this.content=n),this.socketService.typing().subscribe(n=>this.locked=null!==n&&n!==this.socketService.username)}}var _=[["div#container-principal[_ngcontent-%COMP%]{width:100%;height:100%}div#container-lateral-menu[_ngcontent-%COMP%]{width:20%;height:100%;background-color:#fff;border-right:1px solid gray}div.conteudo[_ngcontent-%COMP%]{width:80%;height:99%;overflow:auto}"]],B=e.Ab({encapsulation:0,styles:_,data:{}});function j(n){return e.Qb(0,[(n()(),e.Cb(0,0,null,null,10,"div",[["class","d-flex"],["id","container-principal"]],null,null,null,null,null)),(n()(),e.Cb(1,0,null,null,2,"div",[["id","container-lateral-menu"]],null,null,null,null,null)),(n()(),e.Cb(2,0,null,null,1,"app-connected-users",[],null,null,null,y,M)),e.Bb(3,114688,null,0,C,[d],null,null),(n()(),e.Cb(4,0,null,null,6,"div",[["class","conteudo"]],null,null,null,null,null)),(n()(),e.Cb(5,0,null,null,5,"ckeditor",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ready"]],(function(n,l,t){var e=!0,u=n.component;"change"===l&&(e=!1!==u.change(t)&&e);"ready"===l&&(e=!1!==u.onReady(t)&&e);return e}),x.b,x.a)),e.Bb(6,4374528,null,0,P.a,[e.o,e.H],{editor:[0,"editor"],disabled:[1,"disabled"]},{ready:"ready",change:"change"}),e.Nb(1024,null,s.e,(function(n){return[n]}),[P.a]),e.Bb(8,671744,null,0,s.j,[[8,null],[8,null],[8,null],[6,s.e]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},null),e.Nb(2048,null,s.f,null,[s.j]),e.Bb(10,16384,null,0,s.g,[[4,s.f]],null,null)],(function(n,l){var t=l.component;n(l,3,0),n(l,6,0,t.editor,t.locked),n(l,8,0,t.locked,t.content)}),(function(n,l){n(l,5,0,e.Mb(l,10).ngClassUntouched,e.Mb(l,10).ngClassTouched,e.Mb(l,10).ngClassPristine,e.Mb(l,10).ngClassDirty,e.Mb(l,10).ngClassValid,e.Mb(l,10).ngClassInvalid,e.Mb(l,10).ngClassPending)}))}var S=e.yb("app-view-principal",O,(function(n){return e.Qb(0,[(n()(),e.Cb(0,0,null,null,1,"app-view-principal",[],null,null,null,j,B)),e.Bb(1,114688,null,0,O,[d,g.k],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),z=t("3pDu"),U=[["div#background[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background:#fff;margin:0}[_nghost-%COMP%]     .ck-editor__editable_inline{height:94%}"]],E=e.Ab({encapsulation:0,styles:U,data:{}});function I(n){return e.Qb(0,[(n()(),e.Cb(0,0,null,null,2,"div",[["id","background"]],null,null,null,null,null)),(n()(),e.Cb(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e.Bb(2,212992,null,0,g.m,[g.b,e.Z,e.l,[8,null],e.i],null,null)],(function(n,l){n(l,2,0)}),null)}var D=e.yb("app-root",o,(function(n){return e.Qb(0,[(n()(),e.Cb(0,0,null,null,1,"app-root",[],null,null,null,I,E)),e.Bb(1,49152,null,0,o,[z.d],null,null)],null,null)}),{},{},[]),Q=t("cUpR");class H{}var N=e.zb(i,[o],(function(n){return e.Kb([e.Lb(512,e.l,e.kb,[[8,[r.a,f,S,D]],[3,e.l],e.F]),e.Lb(5120,e.B,e.wb,[[3,e.B]]),e.Lb(4608,m.j,m.i,[e.B,[2,m.q]]),e.Lb(5120,e.sb,e.xb,[e.H]),e.Lb(5120,e.c,e.tb,[]),e.Lb(5120,e.z,e.ub,[]),e.Lb(5120,e.A,e.vb,[]),e.Lb(4608,Q.b,Q.k,[m.c]),e.Lb(6144,e.Q,null,[Q.b]),e.Lb(4608,Q.e,Q.g,[]),e.Lb(5120,Q.c,(function(n,l,t,e,u,i,o,r){return[new Q.i(n,l,t),new Q.n(e),new Q.m(u,i,o,r)]}),[m.c,e.H,e.K,m.c,m.c,Q.e,e.lb,[2,Q.f]]),e.Lb(4608,Q.d,Q.d,[Q.c,e.H]),e.Lb(135680,Q.l,Q.l,[m.c]),e.Lb(4608,Q.j,Q.j,[Q.d,Q.l,e.c]),e.Lb(6144,e.O,null,[Q.j]),e.Lb(6144,Q.o,null,[Q.l]),e.Lb(4608,e.X,e.X,[e.H]),e.Lb(5120,g.a,g.w,[g.k]),e.Lb(4608,g.d,g.d,[]),e.Lb(6144,g.f,null,[g.d]),e.Lb(135680,g.n,g.n,[g.k,e.E,e.j,e.x,g.f]),e.Lb(4608,g.e,g.e,[]),e.Lb(5120,g.B,g.s,[g.k,m.m,g.g]),e.Lb(5120,g.h,g.z,[g.x]),e.Lb(5120,e.b,(function(n,l){return[n,l]}),[g.h,g.h]),e.Lb(4608,s.l,s.l,[]),e.Lb(5120,z.e,z.h,[z.c,e.K]),e.Lb(4608,z.b,z.b,[z.e]),e.Lb(4608,z.d,z.d,[z.e]),e.Lb(4608,d,d,[]),e.Lb(1073742336,m.b,m.b,[]),e.Lb(1024,e.p,Q.p,[]),e.Lb(1024,e.G,(function(){return[g.r(),g.r()]}),[]),e.Lb(512,g.x,g.x,[e.x]),e.Lb(256,z.f,"ngsw-worker.js",[]),e.Lb(256,z.c,{enabled:!1},[]),e.Lb(1024,e.d,(function(n,l,t,e,u,i,o){return[Q.q(n),g.y(l),g.y(t),z.g(e,u,i,o)]}),[[2,e.G],g.x,g.x,e.x,z.f,z.c,e.K]),e.Lb(512,e.e,e.e,[[2,e.d]]),e.Lb(131584,e.g,e.g,[e.H,e.lb,e.x,e.p,e.l,e.e]),e.Lb(1073742336,e.f,e.f,[e.g]),e.Lb(1073742336,Q.a,Q.a,[[3,Q.a]]),e.Lb(1024,g.q,g.u,[[3,g.k]]),e.Lb(512,g.p,g.c,[]),e.Lb(512,g.b,g.b,[]),e.Lb(256,g.g,{useHash:!0},[]),e.Lb(1024,m.g,g.t,[m.l,[2,m.a],g.g]),e.Lb(512,m.f,m.f,[m.g,m.l]),e.Lb(512,e.j,e.j,[]),e.Lb(512,e.E,e.U,[e.j,[2,e.V]]),e.Lb(1024,g.i,(function(){return[[],[{path:"",component:c},{path:"texteditor",component:O}]]}),[]),e.Lb(1024,g.k,g.v,[e.g,g.p,g.b,m.f,e.x,e.E,e.j,g.i,g.g,[2,g.o],[2,g.j]]),e.Lb(1073742336,g.l,g.l,[[2,g.q],[2,g.k]]),e.Lb(1073742336,H,H,[]),e.Lb(1073742336,s.k,s.k,[]),e.Lb(1073742336,s.d,s.d,[]),e.Lb(1073742336,P.b,P.b,[]),e.Lb(1073742336,z.a,z.a,[]),e.Lb(1073742336,i,i,[]),e.Lb(256,e.jb,!0,[])])}));u&&Object(e.db)(),Q.h().bootstrapModuleFactory(N).then(()=>{u&&"serviceWorker"in navigator&&navigator.serviceWorker.getRegistration().then(n=>!n&&navigator.serviceWorker.register("/ngsw-worker.js")).catch(console.error)}).catch(n=>console.log(n))},zn8P:function(n,l){function t(n){return Promise.resolve().then((function(){var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}))}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id="zn8P"}},[[0,0,4]]]);
//# sourceMappingURL=main-es2015.js.map