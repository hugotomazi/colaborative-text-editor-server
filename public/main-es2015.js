(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"0xJz":function(t,e,n){"use strict";n.r(e),e.default='<div id="container-principal" class="d-flex">\n    <div id="container-lateral-menu">\n        <app-connected-users></app-connected-users>\n    </div>\n    <div class="conteudo">\n        <ckeditor [disabled]="locked" [editor]="editor" [ngModel]="content" (change)="change($event)" (ready)="onReady($event)"></ckeditor>\n    </div>\n</div>'},1:function(t,e){},A3xY:function(t,e,n){"use strict";n.r(e),e.default="div#background {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: white;\r\n    margin: 0;\r\n}\r\n\r\n:host ::ng-deep .ck-editor__editable_inline {\r\n    height: 94%;\r\n}"},Bj6Q:function(t,e,n){"use strict";n.r(e),e.default="div#container-principal {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\ndiv#container-lateral-menu {\r\n    width: 20%;\r\n    height: 100%;\r\n    background-color: white;\r\n    border-right: gray solid 1px;\r\n}\r\n\r\ndiv.conteudo {\r\n    width: 80%;\r\n    height: 99%;\r\n    overflow: auto;\r\n}"},P1KS:function(t,e,n){"use strict";n.r(e),e.default='<div class="title">\n    <h4>Participantes</h4>\n</div>\n<div class="content">\n    <ng-container *ngFor="let user of users">\n        <div [class.active]="user === username" [class.typing]="user === typing" class="user">\n            {{user}}\n        </div>\n    </ng-container>\n</div>'},VzVu:function(t,e,n){"use strict";n.r(e),e.default='<div id="background">\n    <router-outlet></router-outlet>\n</div>'},XpD1:function(t,e,n){"use strict";n.r(e),e.default='<div class="container-principal">\n    <div class="container-identify">\n        <div class="title">Identifica\xe7\xe3o</div>\n        <form>\n            <br/>\n            <div class="form group">\n                <div class="label">Insira o seu nome abaixo:</div>\n                <input [(ngModel)]="username" class="form-control" type="text" name="nome" id="nome" autocomplete="off">\n            </div>\n            <button (click)="identify()" type="button" class="btn btn-secondary">Confirmar</button>\n        </form>\n    </div>\n</div>'},Zbhw:function(t,e,n){"use strict";n.r(e),e.default='.title {\r\n    width: 100%;\r\n    height: 40px;\r\n    text-align: center;\r\n    border: solid gray 1px;\r\n    background-color: lightgray;\r\n    border-radius: 2px;\r\n    position: relative;\r\n}\r\n\r\n.title>h4 {\r\n    position: relative;\r\n    font-size: 24px;\r\n    font-family: "Roboto", sans-serif;\r\n    text-align: center;\r\n    top: 20%;\r\n}\r\n\r\ndiv.content {\r\n    width: 100%;\r\n    height: 95%;\r\n    overflow: auto;\r\n}\r\n\r\ndiv.content>div.user {\r\n    padding-top: 1px;\r\n    width: 100%;\r\n    height: 30px;\r\n    background-color: lightgreen;\r\n    text-align: center;\r\n    font-size: 18px;\r\n    border-bottom: black solid 1px;\r\n}\r\n\r\ndiv.content>div.user.active {\r\n    background-color: red;\r\n}\r\n\r\ndiv.content>div.user.typing {\r\n    background-color: yellow;\r\n}'},kj1B:function(t,e,n){"use strict";n.r(e),e.default="div.container-principal {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n    background-color: rgba(211, 211, 211, 0.2);\r\n}\r\n\r\ndiv.container-identify {\r\n    width: 30%;\r\n    min-width: 300px;\r\n    height: 190px;\r\n    border: solid black 1px;\r\n    border-radius: 5px;\r\n    background-color: rgba(211, 211, 211, 0.2);\r\n    position: relative;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n}\r\n\r\ndiv.container-identify>div.title {\r\n    border-bottom: black solid 1px;\r\n    border-top-left-radius: 5px;\r\n    border-top-right-radius: 5px;\r\n    font-size: 24px;\r\n    text-align: center;\r\n    background-color: lightgray;\r\n}\r\n\r\ndiv.container-identify div.label {\r\n    margin: auto;\r\n    max-width: 80%;\r\n}\r\n\r\ndiv.container-identify input {\r\n    margin: auto;\r\n    max-width: 80% !important;\r\n}\r\n\r\ndiv.container-identify button {\r\n    float: right;\r\n    margin-top: 10px;\r\n    margin-right: 10%;\r\n}"},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("8Y7J"),i=n("wAiw"),o=n("mrSG"),s=n("cUpR"),c=n("gFX4"),a=n("HDdC");let d=class{constructor(){this.socket=c("https://colaborative-text-editor-serve.herokuapp.com/",{transports:["websocket"]}),this.username=null}identify(t){this.username=t,this.socket.emit("identify",t)}type(t){this.socket.emit("type",t)}update(){return new a.a(t=>{this.socket.on("update",e=>t.next(e))})}connectedUsers(){return new a.a(t=>{this.socket.on("updateUsersList",e=>t.next(e.users.sort()))})}typing(){return new a.a(t=>{this.socket.on("typing",e=>t.next(e))})}};d=o.b([Object(r.A)()],d);var l=d,u=n("iInd");let p=class{constructor(t,e){this.socketService=t,this.router=e}identify(){if(!this.username||0===this.username.length)return alert("Insira um Nome para continuar.");this.socketService.identify(this.username),this.router.navigate(["/texteditor"])}ngOnInit(){this.socketService.username&&this.router.navigate(["/texteditor"])}};p.ctorParameters=()=>[{type:l},{type:u.a}],p=o.b([Object(r.n)({selector:"app-view-login",template:o.c(n("XpD1")).default,styles:[o.c(n("kj1B")).default]})],p);var h=n("KZYO");let v=class{constructor(t,e){this.socketService=t,this.router=e,this.editor=h,this.content=""}change({editor:t}){const e=t.getData();this.content!==e&&(this.content=e,this.socketService.type(this.content))}onReady(t){t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement())}ngOnInit(){this.socketService.username||this.router.navigate(["/login"]),this.socketService.update().subscribe(t=>this.content=t),this.socketService.typing().subscribe(t=>this.locked=null!==t&&t!==this.socketService.username)}};v.ctorParameters=()=>[{type:l},{type:u.a}],v=o.b([Object(r.n)({selector:"app-view-principal",template:o.c(n("0xJz")).default,styles:[o.c(n("Bj6Q")).default]})],v);const b=[{path:"",component:p},{path:"login",component:p},{path:"texteditor",component:v}];let g=class{};g=o.b([Object(r.I)({imports:[u.b.forRoot([])],exports:[u.b]})],g);let f=class{constructor(){this.title="colaborative-text-editor"}};f=o.b([Object(r.n)({selector:"app-root",template:o.c(n("VzVu")).default,styles:[o.c(n("A3xY")).default]})],f);var m=n("s7LF"),k=n("PjcS");let y=class{constructor(t){this.socketService=t}ngOnInit(){this.socketService.connectedUsers().subscribe(t=>this.users=t),this.socketService.typing().subscribe(t=>this.typing=t),this.username=this.socketService.username}};y.ctorParameters=()=>[{type:l}],y=o.b([Object(r.n)({selector:"app-connected-users",template:o.c(n("P1KS")).default,styles:[o.c(n("Zbhw")).default]})],y);let x=class{};x=o.b([Object(r.I)({declarations:[f,v,p,y],imports:[s.a,g,m.a,k.a,u.b.forRoot(b)],providers:[l],bootstrap:[f]})],x);Object(i.a)().bootstrapModule(x).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0,5]]]);
//# sourceMappingURL=main-es2015.js.map