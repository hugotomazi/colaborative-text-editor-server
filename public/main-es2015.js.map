{"version":3,"sources":["webpack:///src/app/view-principal/view-principal.component.html","webpack:///src/app/app.component.css","webpack:///src/app/view-principal/view-principal.component.css","webpack:///src/app/view-principal/connected-users/connected-users.component.html","webpack:///src/app/app.component.html","webpack:///src/app/view-login/view-login.component.html","webpack:///src/app/view-principal/connected-users/connected-users.component.css","webpack:///src/app/view-login/view-login.component.css","webpack:///src/app/services/socket.service.ts","webpack:///src/app/view-login/view-login.component.ts","webpack:///src/app/view-principal/view-principal.component.ts","webpack:///src/app/app.routes.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/view-principal/connected-users/connected-users.component.ts","webpack:///src/app/app.module.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["__webpack_require__","r","__webpack_exports__","default","socket_service_SocketService","[object Object]","this","socket","lib","transports","username","emit","data","Observable","a","observer","on","next","users","sort","user","tslib_es6","b","Object","core","A","socket_service","ViewLoginComponent","socketService","router","length","alert","identify","navigate","fesm2015_router","n","selector","template","c","view_principal_component_ViewPrincipalComponent","editor","ckeditor","content","editorData","getData","type","ui","getEditableElement","parentElement","insertBefore","view","toolbar","element","update","subscribe","typing","locked","ROUTES","path","component","AppRoutingModule","I","imports","forRoot","exports","AppComponent","title","ConnectedUsersComponent","connectedUsers","AppModule","declarations","platform_browser","fesm2015_forms","ckeditor_ckeditor5_angular","providers","bootstrap","platform_browser_dynamic","bootstrapModule","catch","err","console","error","webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","id"],"mappings":"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","file":"main-es2015.js","sourcesContent":["export default \"<div id=\\\"container-principal\\\" class=\\\"d-flex\\\">\\n    <div id=\\\"container-lateral-menu\\\">\\n        <app-connected-users></app-connected-users>\\n    </div>\\n    <div class=\\\"conteudo\\\">\\n        <ckeditor [disabled]=\\\"locked\\\" [editor]=\\\"editor\\\" [ngModel]=\\\"content\\\" (change)=\\\"change($event)\\\" (ready)=\\\"onReady($event)\\\"></ckeditor>\\n    </div>\\n</div>\"","export default \"div#background {\\r\\n    position: relative;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    background: white;\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n:host ::ng-deep .ck-editor__editable_inline {\\r\\n    height: 94%;\\r\\n}\"","export default \"div#container-principal {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\ndiv#container-lateral-menu {\\r\\n    width: 20%;\\r\\n    height: 100%;\\r\\n    background-color: white;\\r\\n    border-right: gray solid 1px;\\r\\n}\\r\\n\\r\\ndiv.conteudo {\\r\\n    width: 80%;\\r\\n    height: 99%;\\r\\n    overflow: auto;\\r\\n}\"","export default \"<div class=\\\"title\\\">\\n    <h4>Participantes</h4>\\n</div>\\n<div class=\\\"content\\\">\\n    <ng-container *ngFor=\\\"let user of users\\\">\\n        <div [class.active]=\\\"user === username\\\" [class.typing]=\\\"user === typing\\\" class=\\\"user\\\">\\n            {{user}}\\n        </div>\\n    </ng-container>\\n</div>\"","export default \"<div id=\\\"background\\\">\\n    <router-outlet></router-outlet>\\n</div>\"","export default \"<div class=\\\"container-principal\\\">\\n    <div class=\\\"container-identify\\\">\\n        <div class=\\\"title\\\">Identificação</div>\\n        <form>\\n            <br/>\\n            <div class=\\\"form group\\\">\\n                <div class=\\\"label\\\">Insira o seu nome abaixo:</div>\\n                <input [(ngModel)]=\\\"username\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"nome\\\" id=\\\"nome\\\" autocomplete=\\\"off\\\">\\n            </div>\\n            <button (click)=\\\"identify()\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\">Confirmar</button>\\n        </form>\\n    </div>\\n</div>\"","export default \".title {\\r\\n    width: 100%;\\r\\n    height: 40px;\\r\\n    text-align: center;\\r\\n    border: solid gray 1px;\\r\\n    background-color: lightgray;\\r\\n    border-radius: 2px;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.title>h4 {\\r\\n    position: relative;\\r\\n    font-size: 24px;\\r\\n    font-family: \\\"Roboto\\\", sans-serif;\\r\\n    text-align: center;\\r\\n    top: 20%;\\r\\n}\\r\\n\\r\\ndiv.content {\\r\\n    width: 100%;\\r\\n    height: 95%;\\r\\n    overflow: auto;\\r\\n}\\r\\n\\r\\ndiv.content>div.user {\\r\\n    padding-top: 1px;\\r\\n    width: 100%;\\r\\n    height: 30px;\\r\\n    background-color: lightgreen;\\r\\n    text-align: center;\\r\\n    font-size: 18px;\\r\\n    border-bottom: black solid 1px;\\r\\n}\\r\\n\\r\\ndiv.content>div.user.active {\\r\\n    background-color: red;\\r\\n}\\r\\n\\r\\ndiv.content>div.user.typing {\\r\\n    background-color: yellow;\\r\\n}\"","export default \"div.container-principal {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    position: relative;\\r\\n    background-color: rgba(211, 211, 211, 0.2);\\r\\n}\\r\\n\\r\\ndiv.container-identify {\\r\\n    width: 30%;\\r\\n    min-width: 300px;\\r\\n    height: 190px;\\r\\n    border: solid black 1px;\\r\\n    border-radius: 5px;\\r\\n    background-color: rgba(211, 211, 211, 0.2);\\r\\n    position: relative;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    transform: translate(-50%, -50%);\\r\\n}\\r\\n\\r\\ndiv.container-identify>div.title {\\r\\n    border-bottom: black solid 1px;\\r\\n    border-top-left-radius: 5px;\\r\\n    border-top-right-radius: 5px;\\r\\n    font-size: 24px;\\r\\n    text-align: center;\\r\\n    background-color: lightgray;\\r\\n}\\r\\n\\r\\ndiv.container-identify div.label {\\r\\n    margin: auto;\\r\\n    max-width: 80%;\\r\\n}\\r\\n\\r\\ndiv.container-identify input {\\r\\n    margin: auto;\\r\\n    max-width: 80% !important;\\r\\n}\\r\\n\\r\\ndiv.container-identify button {\\r\\n    float: right;\\r\\n    margin-top: 10px;\\r\\n    margin-right: 10%;\\r\\n}\"","import {Injectable} from '@angular/core';\r\nimport * as io from 'socket.io-client';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport default class SocketService {\r\n    socket: SocketIOClient.Socket\r\n    username: string\r\n\r\n    constructor() {\r\n        this.socket = io('https://colaborative-text-editor-serve.herokuapp.com/', {transports: ['websocket']})\r\n        this.username = null\r\n        //this.socket = io('http://127.0.0.1:3000/', {transports: ['websocket']})\r\n    }\r\n\r\n    identify(username: string) {\r\n        this.username = username\r\n        this.socket.emit('identify', username)\r\n    }\r\n\r\n    type(data: string): void {\r\n        this.socket.emit('type', data)\r\n    }\r\n\r\n    update(): Observable<string> {\r\n        return new Observable(observer => {\r\n            this.socket.on('update', (data: string) => observer.next(data))\r\n        });\r\n    }\r\n\r\n    connectedUsers(): Observable<string[]> {\r\n        return new Observable(observer => {\r\n            this.socket.on('updateUsersList', (data: {users: string[]}) => observer.next(data.users.sort()))\r\n        })\r\n    }\r\n\r\n    typing() : Observable<string> {\r\n        return new Observable(observer => {\r\n            this.socket.on('typing', (user: string) => observer.next(user))\r\n        })\r\n    }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\nimport SocketService from '../services/socket.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-view-login',\n  templateUrl: './view-login.component.html',\n  styleUrls: ['./view-login.component.css']\n})\nexport class ViewLoginComponent implements OnInit {\n  private username: string\n\n  constructor(private socketService: SocketService, private router: Router) { }\n\n  identify() {\n    if(!this.username || this.username.length === 0)\n      return alert(\"Insira um Nome para continuar.\")\n\n    this.socketService.identify(this.username)\n    this.router.navigate(['/texteditor'])\n  }\n\n  ngOnInit() {\n    if (this.socketService.username)\n      this.router.navigate(['/texteditor'])\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport SocketService from './../services/socket.service';\nimport * as DecoupledEditor from '@ckeditor/ckeditor5-build-decoupled-document';\nimport { ChangeEvent } from '@ckeditor/ckeditor5-angular';\nimport { Router } from '@angular/router';\n@Component({\n  selector: 'app-view-principal',\n  templateUrl: './view-principal.component.html',\n  styleUrls: ['./view-principal.component.css']\n})\nexport class ViewPrincipalComponent implements OnInit {\n  content: string;\n  public editor = DecoupledEditor;\n  public locked: boolean\n  constructor(private socketService: SocketService, private router: Router) {\n    this.content = '';\n  }\n\n  change({editor} : ChangeEvent) {\n    const editorData = editor.getData();\n    if (this.content !== editorData) {\n      this.content = editorData;\n      this.socketService.type(this.content);\n    }\n  }\n\n  onReady(editor) {\n    editor.ui.getEditableElement().parentElement.insertBefore(\n      editor.ui.view.toolbar.element,\n      editor.ui.getEditableElement()\n    );\n  }\n\n  ngOnInit() {\n    if(!this.socketService.username)\n      this.router.navigate(['/login'])\n\n    this.socketService.update().subscribe(data => this.content = data);\n    this.socketService.typing().subscribe(user => this.locked = (user !== null && user !== this.socketService.username))\n  }\n\n}\n","import {Routes} from '@angular/router'\r\nimport { ViewLoginComponent } from './view-login/view-login.component'\r\nimport { ViewPrincipalComponent } from './view-principal/view-principal.component'\r\n\r\nexport const ROUTES: Routes = [\r\n    {path: '', component: ViewLoginComponent},\r\n    {path: 'login', component: ViewLoginComponent},\r\n    {path: 'texteditor', component: ViewPrincipalComponent}\r\n]\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\ndeclare var $: any;\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'colaborative-text-editor';\n  constructor() {}\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport SocketService from 'src/app/services/socket.service';\n\n@Component({\n  selector: 'app-connected-users',\n  templateUrl: './connected-users.component.html',\n  styleUrls: ['./connected-users.component.css']\n})\nexport class ConnectedUsersComponent implements OnInit {\n  users: string[]\n  username: string\n  typing: string\n\n  constructor(private socketService: SocketService) { }\n\n  ngOnInit() {\n    this.socketService.connectedUsers().subscribe(users => this.users = users)\n    this.socketService.typing().subscribe(user => this.typing = user)\n    \n    this.username = this.socketService.username\n  }\n\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport {ROUTES} from './app.routes'\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport SocketService from './services/socket.service';\nimport { FormsModule } from '@angular/forms';\nimport { CKEditorModule } from '@ckeditor/ckeditor5-angular';\nimport { ViewPrincipalComponent } from './view-principal/view-principal.component';\nimport { ViewLoginComponent } from './view-login/view-login.component';\nimport { RouterModule } from '@angular/router';\nimport { ConnectedUsersComponent } from './view-principal/connected-users/connected-users.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ViewPrincipalComponent,\n    ViewLoginComponent,\n    ConnectedUsersComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    FormsModule,\n    CKEditorModule,\n    RouterModule.forRoot(ROUTES)\n  ],\n  providers: [SocketService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}