{"version":3,"sources":["webpack:///src/app/view-principal/view-principal.component.html","webpack:///src/app/app.component.css","webpack:///src/app/view-principal/view-principal.component.css","webpack:///src/app/view-principal/connected-users/connected-users.component.html","webpack:///src/app/app.component.html","webpack:///src/app/view-login/view-login.component.html","webpack:///src/app/view-principal/connected-users/connected-users.component.css","webpack:///src/app/view-login/view-login.component.css","webpack:///src/app/services/socket.service.ts","webpack:///src/app/view-login/view-login.component.ts","webpack:///src/app/view-principal/view-principal.component.ts","webpack:///src/app/app.routes.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/view-principal/connected-users/connected-users.component.ts","webpack:///src/app/app.module.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["__webpack_require__","r","__webpack_exports__","socket_service_SocketService","_classCallCheck","this","socket","lib","transports","username","_createClass","key","value","emit","data","_this","Observable","observer","on","next","_this2","users","sort","_this3","user","socket_service","tslib_es6","b","Object","core","A","ViewLoginComponent","socketService","router","length","alert","identify","navigate","fesm2015_router","a","n","selector","template","view_principal_component_ViewPrincipalComponent","editor","ckeditor","content","_ref","editorData","getData","type","ui","getEditableElement","parentElement","insertBefore","view","toolbar","element","_this4","update","subscribe","typing","locked","ROUTES","path","component","AppRoutingModule","I","imports","forRoot","exports","AppComponent","title","ConnectedUsersComponent","_this5","connectedUsers","AppModule","declarations","platform_browser","fesm2015_forms","ckeditor_ckeditor5_angular","providers","bootstrap","platform_browser_dynamic","bootstrapModule","err","console","error","webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","id"],"mappings":"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","file":"main-es5.js","sourcesContent":["export default \"<div id=\\\"container-principal\\\" class=\\\"d-flex\\\">\\n    <div id=\\\"container-lateral-menu\\\">\\n        <app-connected-users></app-connected-users>\\n    </div>\\n    <div class=\\\"conteudo\\\">\\n        <ckeditor [disabled]=\\\"locked\\\" [editor]=\\\"editor\\\" [ngModel]=\\\"content\\\" (change)=\\\"change($event)\\\" (ready)=\\\"onReady($event)\\\"></ckeditor>\\n    </div>\\n</div>\"","export default \"div#background {\\r\\n    position: relative;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    background: white;\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n:host ::ng-deep .ck-editor__editable_inline {\\r\\n    height: 94%;\\r\\n}\"","export default \"div#container-principal {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\ndiv#container-lateral-menu {\\r\\n    width: 20%;\\r\\n    height: 100%;\\r\\n    background-color: white;\\r\\n    border-right: gray solid 1px;\\r\\n}\\r\\n\\r\\ndiv.conteudo {\\r\\n    width: 80%;\\r\\n    height: 99%;\\r\\n    overflow: auto;\\r\\n}\"","export default \"<div class=\\\"title\\\">\\n    <h4>Participantes</h4>\\n</div>\\n<div class=\\\"content\\\">\\n    <ng-container *ngFor=\\\"let user of users\\\">\\n        <div [class.active]=\\\"user === username\\\" [class.typing]=\\\"user === typing\\\" class=\\\"user\\\">\\n            {{user}}\\n        </div>\\n    </ng-container>\\n</div>\"","export default \"<div id=\\\"background\\\">\\n    <router-outlet></router-outlet>\\n</div>\"","export default \"<div class=\\\"container-principal\\\">\\n    <div class=\\\"container-identify\\\">\\n        <div class=\\\"title\\\">Identificação</div>\\n        <form>\\n            <br/>\\n            <div class=\\\"form group\\\">\\n                <div class=\\\"label\\\">Insira o seu nome abaixo:</div>\\n                <input [(ngModel)]=\\\"username\\\" class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"nome\\\" id=\\\"nome\\\" autocomplete=\\\"off\\\">\\n            </div>\\n            <button (click)=\\\"identify()\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\">Confirmar</button>\\n        </form>\\n    </div>\\n</div>\"","export default \".title {\\r\\n    width: 100%;\\r\\n    height: 40px;\\r\\n    text-align: center;\\r\\n    border: solid gray 1px;\\r\\n    background-color: lightgray;\\r\\n    border-radius: 2px;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.title>h4 {\\r\\n    position: relative;\\r\\n    font-size: 24px;\\r\\n    font-family: \\\"Roboto\\\", sans-serif;\\r\\n    text-align: center;\\r\\n    top: 20%;\\r\\n}\\r\\n\\r\\ndiv.content {\\r\\n    width: 100%;\\r\\n    height: 95%;\\r\\n    overflow: auto;\\r\\n}\\r\\n\\r\\ndiv.content>div.user {\\r\\n    padding-top: 1px;\\r\\n    width: 100%;\\r\\n    height: 30px;\\r\\n    background-color: lightgreen;\\r\\n    text-align: center;\\r\\n    font-size: 18px;\\r\\n    border-bottom: black solid 1px;\\r\\n}\\r\\n\\r\\ndiv.content>div.user.active {\\r\\n    background-color: red;\\r\\n}\\r\\n\\r\\ndiv.content>div.user.typing {\\r\\n    background-color: yellow;\\r\\n}\"","export default \"div.container-principal {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    position: relative;\\r\\n    background-color: rgba(211, 211, 211, 0.2);\\r\\n}\\r\\n\\r\\ndiv.container-identify {\\r\\n    width: 30%;\\r\\n    min-width: 300px;\\r\\n    height: 190px;\\r\\n    border: solid black 1px;\\r\\n    border-radius: 5px;\\r\\n    background-color: rgba(211, 211, 211, 0.2);\\r\\n    position: relative;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    transform: translate(-50%, -50%);\\r\\n}\\r\\n\\r\\ndiv.container-identify>div.title {\\r\\n    border-bottom: black solid 1px;\\r\\n    border-top-left-radius: 5px;\\r\\n    border-top-right-radius: 5px;\\r\\n    font-size: 24px;\\r\\n    text-align: center;\\r\\n    background-color: lightgray;\\r\\n}\\r\\n\\r\\ndiv.container-identify div.label {\\r\\n    margin: auto;\\r\\n    max-width: 80%;\\r\\n}\\r\\n\\r\\ndiv.container-identify input {\\r\\n    margin: auto;\\r\\n    max-width: 80% !important;\\r\\n}\\r\\n\\r\\ndiv.container-identify button {\\r\\n    float: right;\\r\\n    margin-top: 10px;\\r\\n    margin-right: 10%;\\r\\n}\"","import {Injectable} from '@angular/core';\r\nimport * as io from 'socket.io-client';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport default class SocketService {\r\n    socket: SocketIOClient.Socket\r\n    username: string\r\n\r\n    constructor() {\r\n        this.socket = io('https://colaborative-text-editor-serve.herokuapp.com/', {transports: ['websocket']})\r\n        this.username = null\r\n        //this.socket = io('http://127.0.0.1:3000/', {transports: ['websocket']})\r\n    }\r\n\r\n    identify(username: string) {\r\n        this.username = username\r\n        this.socket.emit('identify', username)\r\n    }\r\n\r\n    type(data: string): void {\r\n        this.socket.emit('type', data)\r\n    }\r\n\r\n    update(): Observable<string> {\r\n        return new Observable(observer => {\r\n            this.socket.on('update', (data: string) => observer.next(data))\r\n        });\r\n    }\r\n\r\n    connectedUsers(): Observable<string[]> {\r\n        return new Observable(observer => {\r\n            this.socket.on('updateUsersList', (data: {users: string[]}) => observer.next(data.users.sort()))\r\n        })\r\n    }\r\n\r\n    typing() : Observable<string> {\r\n        return new Observable(observer => {\r\n            this.socket.on('typing', (user: string) => observer.next(user))\r\n        })\r\n    }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\nimport SocketService from '../services/socket.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-view-login',\n  templateUrl: './view-login.component.html',\n  styleUrls: ['./view-login.component.css']\n})\nexport class ViewLoginComponent implements OnInit {\n  private username: string\n\n  constructor(private socketService: SocketService, private router: Router) { }\n\n  identify() {\n    if(!this.username || this.username.length === 0)\n      return alert(\"Insira um Nome para continuar.\")\n\n    this.socketService.identify(this.username)\n    this.router.navigate(['/texteditor'])\n  }\n\n  ngOnInit() {\n    if (this.socketService.username)\n      this.router.navigate(['/texteditor'])\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport SocketService from './../services/socket.service';\nimport * as DecoupledEditor from '@ckeditor/ckeditor5-build-decoupled-document';\nimport { ChangeEvent } from '@ckeditor/ckeditor5-angular';\nimport { Router } from '@angular/router';\n@Component({\n  selector: 'app-view-principal',\n  templateUrl: './view-principal.component.html',\n  styleUrls: ['./view-principal.component.css']\n})\nexport class ViewPrincipalComponent implements OnInit {\n  content: string;\n  public editor = DecoupledEditor;\n  public locked: boolean\n  constructor(private socketService: SocketService, private router: Router) {\n    this.content = '';\n  }\n\n  change({editor} : ChangeEvent) {\n    const editorData = editor.getData();\n    if (this.content !== editorData) {\n      this.content = editorData;\n      this.socketService.type(this.content);\n    }\n  }\n\n  onReady(editor) {\n    editor.ui.getEditableElement().parentElement.insertBefore(\n      editor.ui.view.toolbar.element,\n      editor.ui.getEditableElement()\n    );\n  }\n\n  ngOnInit() {\n    if(!this.socketService.username)\n      this.router.navigate(['/login'])\n\n    this.socketService.update().subscribe(data => this.content = data);\n    this.socketService.typing().subscribe(user => this.locked = (user !== null && user !== this.socketService.username))\n  }\n\n}\n","import {Routes} from '@angular/router'\r\nimport { ViewLoginComponent } from './view-login/view-login.component'\r\nimport { ViewPrincipalComponent } from './view-principal/view-principal.component'\r\n\r\nexport const ROUTES: Routes = [\r\n    {path: '', component: ViewLoginComponent},\r\n    {path: 'login', component: ViewLoginComponent},\r\n    {path: 'texteditor', component: ViewPrincipalComponent}\r\n]\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\ndeclare var $: any;\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'colaborative-text-editor';\n  constructor() {}\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport SocketService from 'src/app/services/socket.service';\n\n@Component({\n  selector: 'app-connected-users',\n  templateUrl: './connected-users.component.html',\n  styleUrls: ['./connected-users.component.css']\n})\nexport class ConnectedUsersComponent implements OnInit {\n  users: string[]\n  username: string\n  typing: string\n\n  constructor(private socketService: SocketService) { }\n\n  ngOnInit() {\n    this.socketService.connectedUsers().subscribe(users => this.users = users)\n    this.socketService.typing().subscribe(user => this.typing = user)\n    \n    this.username = this.socketService.username\n  }\n\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport {ROUTES} from './app.routes'\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport SocketService from './services/socket.service';\nimport { FormsModule } from '@angular/forms';\nimport { CKEditorModule } from '@ckeditor/ckeditor5-angular';\nimport { ViewPrincipalComponent } from './view-principal/view-principal.component';\nimport { ViewLoginComponent } from './view-login/view-login.component';\nimport { RouterModule } from '@angular/router';\nimport { ConnectedUsersComponent } from './view-principal/connected-users/connected-users.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ViewPrincipalComponent,\n    ViewLoginComponent,\n    ConnectedUsersComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    FormsModule,\n    CKEditorModule,\n    RouterModule.forRoot(ROUTES)\n  ],\n  providers: [SocketService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}