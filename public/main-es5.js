function _defineProperties(n,l){for(var t=0;t<l.length;t++){var e=l[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function _createClass(n,l,t){return l&&_defineProperties(n.prototype,l),t&&_defineProperties(n,t),n}function _classCallCheck(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(n,l,t){n.exports=t("zUnb")},1:function(n,l){},zUnb:function(n,l,t){"use strict";t.r(l);var e=t("8Y7J"),u=function n(){_classCallCheck(this,n)},i=function n(l){_classCallCheck(this,n),this.updates=l,this.title="colaborative-text-editor",l.available.subscribe((function(n){console.log("current version is",n.current),console.log("available version is",n.available)})),l.activated.subscribe((function(n){console.log("old version was",n.previous),console.log("new version is",n.current)}))},o=t("pMnS"),r=t("s7LF"),c=function(){function n(l,t){_classCallCheck(this,n),this.socketService=l,this.router=t}return _createClass(n,[{key:"identify",value:function(){if(!this.username||0===this.username.length)return alert("Insira um Nome para continuar.");this.socketService.identify(this.username),this.router.navigate(["/texteditor"])}},{key:"ngOnInit",value:function(){this.socketService.username&&this.router.navigate(["/texteditor"])}}]),n}(),a=t("gFX4"),s=t("HDdC"),b=function(){function n(){_classCallCheck(this,n),this.socket=a("https://colaborative-text-editor-serve.herokuapp.com/",{transports:["websocket"]}),this.username=null}return _createClass(n,[{key:"identify",value:function(n){this.username=n,this.socket.emit("identify",n)}},{key:"type",value:function(n){this.socket.emit("type",n)}},{key:"update",value:function(){var n=this;return new s.a((function(l){n.socket.on("update",(function(n){return l.next(n)}))}))}},{key:"connectedUsers",value:function(){var n=this;return new s.a((function(l){n.socket.on("updateUsersList",(function(n){return l.next(n.users.sort())}))}))}},{key:"typing",value:function(){var n=this;return new s.a((function(l){n.socket.on("typing",(function(n){return l.next(n)}))}))}}]),n}(),d=t("iInd"),g=e.Ab({encapsulation:0,styles:[["div.container-principal[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;background-color:rgba(211,211,211,.2)}div.container-identify[_ngcontent-%COMP%]{width:30%;min-width:300px;height:190px;border:1px solid #000;border-radius:5px;background-color:rgba(211,211,211,.2);position:relative;top:50%;left:50%;transform:translate(-50%,-50%)}div.container-identify[_ngcontent-%COMP%] > div.title[_ngcontent-%COMP%]{border-bottom:1px solid #000;border-top-left-radius:5px;border-top-right-radius:5px;font-size:24px;text-align:center;background-color:#d3d3d3}div.container-identify[_ngcontent-%COMP%]   label.label[_ngcontent-%COMP%]{margin-left:10%}div.container-identify[_ngcontent-%COMP%]   label.label[_ngcontent-%COMP%], div.container-identify[_ngcontent-%COMP%] > div.title[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}div.container-identify[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:auto;max-width:80%!important}div.container-identify[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;margin-top:10px;margin-right:10%}"]],data:{}});function f(n){return e.Qb(0,[(n()(),e.Cb(0,0,null,null,20,"div",[["class","container-principal"]],null,null,null,null,null)),(n()(),e.Cb(1,0,null,null,19,"div",[["class","container-identify"]],null,null,null,null,null)),(n()(),e.Cb(2,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),e.Pb(-1,null,["Identifica\xe7\xe3o"])),(n()(),e.Cb(4,0,null,null,16,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,t){var u=!0;return"submit"===l&&(u=!1!==e.Mb(n,6).onSubmit(t)&&u),"reset"===l&&(u=!1!==e.Mb(n,6).onReset()&&u),u}),null,null)),e.Bb(5,16384,null,0,r.m,[],null,null),e.Bb(6,4210688,null,0,r.i,[[8,null],[8,null]],null,null),e.Nb(2048,null,r.b,null,[r.i]),e.Bb(8,16384,null,0,r.h,[[4,r.b]],null,null),(n()(),e.Cb(9,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.Cb(10,0,null,null,8,"div",[["class","form group"]],null,null,null,null,null)),(n()(),e.Cb(11,0,null,null,1,"label",[["class","label"],["for","nome"]],null,null,null,null,null)),(n()(),e.Pb(-1,null,["Insira o seu nome abaixo:"])),(n()(),e.Cb(13,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["id","nome"],["name","nome"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,t){var u=!0,i=n.component;return"input"===l&&(u=!1!==e.Mb(n,14)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Mb(n,14).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Mb(n,14)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Mb(n,14)._compositionEnd(t.target.value)&&u),"ngModelChange"===l&&(u=!1!==(i.username=t)&&u),u}),null,null)),e.Bb(14,16384,null,0,r.c,[e.N,e.o,[2,r.a]],null,null),e.Nb(1024,null,r.e,(function(n){return[n]}),[r.c]),e.Bb(16,671744,null,0,r.j,[[2,r.b],[8,null],[8,null],[6,r.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Nb(2048,null,r.f,null,[r.j]),e.Bb(18,16384,null,0,r.g,[[4,r.f]],null,null),(n()(),e.Cb(19,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],(function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=!1!==u.identify()&&e),e}),null,null)),(n()(),e.Pb(-1,null,["Confirmar"]))],(function(n,l){n(l,16,0,"nome",l.component.username)}),(function(n,l){n(l,4,0,e.Mb(l,8).ngClassUntouched,e.Mb(l,8).ngClassTouched,e.Mb(l,8).ngClassPristine,e.Mb(l,8).ngClassDirty,e.Mb(l,8).ngClassValid,e.Mb(l,8).ngClassInvalid,e.Mb(l,8).ngClassPending),n(l,13,0,e.Mb(l,18).ngClassUntouched,e.Mb(l,18).ngClassTouched,e.Mb(l,18).ngClassPristine,e.Mb(l,18).ngClassDirty,e.Mb(l,18).ngClassValid,e.Mb(l,18).ngClassInvalid,e.Mb(l,18).ngClassPending)}))}var p=e.yb("app-view-login",c,(function(n){return e.Qb(0,[(n()(),e.Cb(0,0,null,null,1,"app-view-login",[],null,null,null,f,g)),e.Bb(1,114688,null,0,c,[b,d.k],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),h=t("SVse"),v=function(){function n(l){_classCallCheck(this,n),this.socketService=l}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.socketService.connectedUsers().subscribe((function(l){return n.users=l})),this.socketService.typing().subscribe((function(l){return n.typing=l})),this.username=this.socketService.username}}]),n}(),C=e.Ab({encapsulation:0,styles:[[".title[_ngcontent-%COMP%]{width:100%;height:40px;text-align:center;border:1px solid gray;background-color:#d3d3d3;border-radius:2px;position:relative}.title[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{position:relative;font-size:24px;font-family:Roboto,sans-serif;text-align:center;top:20%}div.content[_ngcontent-%COMP%]{width:100%;height:95%;overflow:auto}div.content[_ngcontent-%COMP%] > div.user[_ngcontent-%COMP%]{padding-top:1px;width:100%;height:30px;background-color:#90ee90;text-align:center;font-size:18px;border-bottom:1px solid #000}div.content[_ngcontent-%COMP%] > div.user.active[_ngcontent-%COMP%]{background-color:red}div.content[_ngcontent-%COMP%] > div.user.typing[_ngcontent-%COMP%]{background-color:#ff0}"]],data:{}});function m(n){return e.Qb(0,[(n()(),e.Cb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.Cb(1,0,null,null,1,"div",[["class","user"]],[[2,"active",null],[2,"typing",null]],null,null,null,null)),(n()(),e.Pb(2,null,[" "," "]))],null,(function(n,l){var t=l.component;n(l,1,0,l.context.$implicit===t.username,l.context.$implicit===t.typing),n(l,2,0,l.context.$implicit)}))}function k(n){return e.Qb(0,[(n()(),e.Cb(0,0,null,null,2,"div",[["class","title"]],null,null,null,null,null)),(n()(),e.Cb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),e.Pb(-1,null,["Participantes"])),(n()(),e.Cb(3,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(n()(),e.rb(16777216,null,null,1,null,m)),e.Bb(5,278528,null,0,h.h,[e.Z,e.W,e.z],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,5,0,l.component.users)}),null)}e.yb("app-connected-users",v,(function(n){return e.Qb(0,[(n()(),e.Cb(0,0,null,null,1,"app-connected-users",[],null,null,null,k,C)),e.Bb(1,114688,null,0,v,[b],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]);var y=t("1BOH"),L=t("PjcS"),M=t("KZYO"),_=function(){function n(l,t){_classCallCheck(this,n),this.socketService=l,this.router=t,this.editor=M,this.content=""}return _createClass(n,[{key:"change",value:function(n){var l=n.editor.getData();this.content!==l&&(this.content=l,this.socketService.type(this.content))}},{key:"onReady",value:function(n){n.ui.getEditableElement().parentElement.insertBefore(n.ui.view.toolbar.element,n.ui.getEditableElement())}},{key:"ngOnInit",value:function(){var n=this;this.socketService.username||this.router.navigate(["/"]),this.socketService.update().subscribe((function(l){return n.content=l})),this.socketService.typing().subscribe((function(l){return n.locked=null!==l&&l!==n.socketService.username}))}}]),n}(),x=e.Ab({encapsulation:0,styles:[["div#container-principal[_ngcontent-%COMP%]{width:100%;height:100%}div#container-lateral-menu[_ngcontent-%COMP%]{width:20%;height:100%;background-color:#fff;border-right:1px solid gray}div.conteudo[_ngcontent-%COMP%]{width:80%;height:99%;overflow:auto}"]],data:{}});function P(n){return e.Qb(0,[(n()(),e.Cb(0,0,null,null,10,"div",[["class","d-flex"],["id","container-principal"]],null,null,null,null,null)),(n()(),e.Cb(1,0,null,null,2,"div",[["id","container-lateral-menu"]],null,null,null,null,null)),(n()(),e.Cb(2,0,null,null,1,"app-connected-users",[],null,null,null,k,C)),e.Bb(3,114688,null,0,v,[b],null,null),(n()(),e.Cb(4,0,null,null,6,"div",[["class","conteudo"]],null,null,null,null,null)),(n()(),e.Cb(5,0,null,null,5,"ckeditor",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ready"]],(function(n,l,t){var e=!0,u=n.component;return"change"===l&&(e=!1!==u.change(t)&&e),"ready"===l&&(e=!1!==u.onReady(t)&&e),e}),y.b,y.a)),e.Bb(6,4374528,null,0,L.a,[e.o,e.H],{editor:[0,"editor"],disabled:[1,"disabled"]},{ready:"ready",change:"change"}),e.Nb(1024,null,r.e,(function(n){return[n]}),[L.a]),e.Bb(8,671744,null,0,r.j,[[8,null],[8,null],[8,null],[6,r.e]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},null),e.Nb(2048,null,r.f,null,[r.j]),e.Bb(10,16384,null,0,r.g,[[4,r.f]],null,null)],(function(n,l){var t=l.component;n(l,3,0),n(l,6,0,t.editor,t.locked),n(l,8,0,t.locked,t.content)}),(function(n,l){n(l,5,0,e.Mb(l,10).ngClassUntouched,e.Mb(l,10).ngClassTouched,e.Mb(l,10).ngClassPristine,e.Mb(l,10).ngClassDirty,e.Mb(l,10).ngClassValid,e.Mb(l,10).ngClassInvalid,e.Mb(l,10).ngClassPending)}))}var w=e.yb("app-view-principal",_,(function(n){return e.Qb(0,[(n()(),e.Cb(0,0,null,null,1,"app-view-principal",[],null,null,null,P,x)),e.Bb(1,114688,null,0,_,[b,d.k],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),O=t("3pDu"),B=e.Ab({encapsulation:0,styles:[["div#background[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background:#fff;margin:0}[_nghost-%COMP%]     .ck-editor__editable_inline{height:94%}"]],data:{}});function j(n){return e.Qb(0,[(n()(),e.Cb(0,0,null,null,2,"div",[["id","background"]],null,null,null,null,null)),(n()(),e.Cb(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e.Bb(2,212992,null,0,d.m,[d.b,e.Z,e.l,[8,null],e.i],null,null)],(function(n,l){n(l,2,0)}),null)}var S=e.yb("app-root",i,(function(n){return e.Qb(0,[(n()(),e.Cb(0,0,null,null,1,"app-root",[],null,null,null,j,B)),e.Bb(1,49152,null,0,i,[O.d],null,null)],null,null)}),{},{},[]),z=t("cUpR"),E=function n(){_classCallCheck(this,n)},U=e.zb(u,[i],(function(n){return e.Kb([e.Lb(512,e.l,e.kb,[[8,[o.a,p,w,S]],[3,e.l],e.F]),e.Lb(5120,e.B,e.wb,[[3,e.B]]),e.Lb(4608,h.j,h.i,[e.B,[2,h.q]]),e.Lb(5120,e.sb,e.xb,[e.H]),e.Lb(5120,e.c,e.tb,[]),e.Lb(5120,e.z,e.ub,[]),e.Lb(5120,e.A,e.vb,[]),e.Lb(4608,z.b,z.k,[h.c]),e.Lb(6144,e.Q,null,[z.b]),e.Lb(4608,z.e,z.g,[]),e.Lb(5120,z.c,(function(n,l,t,e,u,i,o,r){return[new z.i(n,l,t),new z.n(e),new z.m(u,i,o,r)]}),[h.c,e.H,e.K,h.c,h.c,z.e,e.lb,[2,z.f]]),e.Lb(4608,z.d,z.d,[z.c,e.H]),e.Lb(135680,z.l,z.l,[h.c]),e.Lb(4608,z.j,z.j,[z.d,z.l,e.c]),e.Lb(6144,e.O,null,[z.j]),e.Lb(6144,z.o,null,[z.l]),e.Lb(4608,e.X,e.X,[e.H]),e.Lb(5120,d.a,d.w,[d.k]),e.Lb(4608,d.d,d.d,[]),e.Lb(6144,d.f,null,[d.d]),e.Lb(135680,d.n,d.n,[d.k,e.E,e.j,e.x,d.f]),e.Lb(4608,d.e,d.e,[]),e.Lb(5120,d.B,d.s,[d.k,h.m,d.g]),e.Lb(5120,d.h,d.z,[d.x]),e.Lb(5120,e.b,(function(n,l){return[n,l]}),[d.h,d.h]),e.Lb(4608,r.l,r.l,[]),e.Lb(5120,O.e,O.h,[O.c,e.K]),e.Lb(4608,O.b,O.b,[O.e]),e.Lb(4608,O.d,O.d,[O.e]),e.Lb(4608,b,b,[]),e.Lb(1073742336,h.b,h.b,[]),e.Lb(1024,e.p,z.p,[]),e.Lb(1024,e.G,(function(){return[d.r(),d.r()]}),[]),e.Lb(512,d.x,d.x,[e.x]),e.Lb(256,O.f,"ngsw-worker.js",[]),e.Lb(256,O.c,{enabled:!1},[]),e.Lb(1024,e.d,(function(n,l,t,e,u,i,o){return[z.q(n),d.y(l),d.y(t),O.g(e,u,i,o)]}),[[2,e.G],d.x,d.x,e.x,O.f,O.c,e.K]),e.Lb(512,e.e,e.e,[[2,e.d]]),e.Lb(131584,e.g,e.g,[e.H,e.lb,e.x,e.p,e.l,e.e]),e.Lb(1073742336,e.f,e.f,[e.g]),e.Lb(1073742336,z.a,z.a,[[3,z.a]]),e.Lb(1024,d.q,d.u,[[3,d.k]]),e.Lb(512,d.p,d.c,[]),e.Lb(512,d.b,d.b,[]),e.Lb(256,d.g,{useHash:!0},[]),e.Lb(1024,h.g,d.t,[h.l,[2,h.a],d.g]),e.Lb(512,h.f,h.f,[h.g,h.l]),e.Lb(512,e.j,e.j,[]),e.Lb(512,e.E,e.U,[e.j,[2,e.V]]),e.Lb(1024,d.i,(function(){return[[],[{path:"",component:c},{path:"texteditor",component:_}]]}),[]),e.Lb(1024,d.k,d.v,[e.g,d.p,d.b,h.f,e.x,e.E,e.j,d.i,d.g,[2,d.o],[2,d.j]]),e.Lb(1073742336,d.l,d.l,[[2,d.q],[2,d.k]]),e.Lb(1073742336,E,E,[]),e.Lb(1073742336,r.k,r.k,[]),e.Lb(1073742336,r.d,r.d,[]),e.Lb(1073742336,L.b,L.b,[]),e.Lb(1073742336,O.a,O.a,[]),e.Lb(1073742336,u,u,[]),e.Lb(256,e.jb,!0,[])])}));z.h().bootstrapModuleFactory(U).then((function(){})).catch((function(n){return console.log(n)}))},zn8P:function(n,l){function t(n){return Promise.resolve().then((function(){var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}))}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id="zn8P"}},[[0,0,5]]]);
//# sourceMappingURL=main-es5.js.map